jQuery(document).ready((function(e){var i=!1,n=!1,o=!1,t=e(".cd-image-container");function a(i){i.each((function(){var i=e(this);e(window).scrollTop()+.5*e(window).height()>i.offset().top&&i.addClass("is-visible")})),n=!1}function s(i){i.each((function(){var i=e(this);r(i.find('.cd-image-label[data-type="modified"]'),i.find(".cd-resize-img"),"left"),r(i.find('.cd-image-label[data-type="original"]'),i.find(".cd-resize-img"),"right")})),o=!1}function d(n,o,t,a,s,d,f,u,l,m){var c=n.pageX+o-t;c<a?c=a:c>s&&(c=s);var g=100*(c+t/2-d)/f+"%";e(".draggable").css("left",g).on("mouseup vmouseup",(function(){e(this).removeClass("draggable"),u.removeClass("resizable")})),e(".resizable").css("width",g),r(m,u,"left"),r(l,u,"right"),i=!1}function r(e,i,n){"left"==n?e.offset().left+e.outerWidth()<i.offset().left+i.outerWidth()?e.removeClass("is-hidden"):e.addClass("is-hidden"):e.offset().left>i.offset().left+i.outerWidth()?e.removeClass("is-hidden"):e.addClass("is-hidden")}a(t),e(window).on("scroll",(function(){n||(n=!0,window.requestAnimationFrame?requestAnimationFrame((function(){a(t)})):setTimeout((function(){a(t)}),100))})),t.each((function(){var n,o,t,a,s,r=e(this);n=r.find(".cd-handle"),o=r.find(".cd-resize-img"),t=r,a=r.find('.cd-image-label[data-type="original"]'),s=r.find('.cd-image-label[data-type="modified"]'),n.on("mousedown vmousedown",(function(e){n.addClass("draggable"),o.addClass("resizable");var r=n.outerWidth(),f=n.offset().left+r-e.pageX,u=t.offset().left,l=t.outerWidth(),m=u+10,c=u+l-r-10;n.parents().on("mousemove vmousemove",(function(e){i||(i=!0,window.requestAnimationFrame?requestAnimationFrame((function(){d(e,f,r,m,c,u,l,o,a,s)})):setTimeout((function(){d(e,f,r,m,c,u,l,o,a,s)}),100))})).on("mouseup vmouseup",(function(e){n.removeClass("draggable"),o.removeClass("resizable")})),e.preventDefault()})).on("mouseup vmouseup",(function(e){n.removeClass("draggable"),o.removeClass("resizable")}))})),e(window).on("resize",(function(){o||(o=!0,window.requestAnimationFrame?requestAnimationFrame((function(){s(t)})):setTimeout((function(){s(t)}),100))}))}));